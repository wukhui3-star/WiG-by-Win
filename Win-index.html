import React, { useState } from 'react';
import { 
  ChevronRight, 
  ChevronLeft, 
  Shirt, 
  Zap, 
  TrendingUp, 
  Users, 
  Target, 
  Globe, 
  DollarSign, 
  Award,
  CheckCircle,
  XCircle,
  BarChart3,
  Layers,
  ShoppingBag,
  Camera,
  Languages
} from 'lucide-react';

// --- Data & Content (Bilingual) ---

const PITCH_DATA = {
  zh: {
    nav: {
      sections: [
        "Elevator Pitch",
        "痛點分析",
        "解決方案",
        "市場與護城河",
        "發展藍圖",
        "投資需求與團隊",
        "投資人決策"
      ],
      label: "戰情室導航",
      btnEnter: "進入戰情室",
      btnStartQuiz: "開始投資人測驗",
      btnTryOn: "立即試穿",
      btnRetry: "重新進入戰情室"
    },
    hero: {
      badge: "Startup War Room",
      title: "WiG by Win 川衣見",
      subtitle: "Bridging the Imagination Gap in Fashion E-commerce",
      tagline: "解決網購「看得到穿不到」的落差，讓每一次瀏覽都轉化為成交。",
      ask: "Seed/Pre-A Round | Target: 2027 Strategy"
    },
    headers: {
      pain: "痛點分析 (Pain Points)",
      painSubtitle: "為什麼現在的時尚電商模式無法持續？",
      solution: "解決方案：GenAI 虛擬試穿",
      market: "市場規模與護城河",
      roadmap: "2026-2027 發展藍圖",
      ask: "投資需求 (The Ask)",
      team: "核心團隊",
      quizIntro: "準備好做決定了嗎？",
      quizTitle: "投資人檢核"
    },
    painPoints: [
      {
        id: 1,
        title: "高退貨率的雙重夾殺",
        desc: "服飾電商平均退貨率高達 30%+",
        detail: "70% 的退貨原因是「尺寸或風格不符」。這不僅損失運費，更造成巨大的庫存浪費與利潤侵蝕。"
      },
      {
        id: 2,
        title: "想像力落差 (The Imagination Gap)",
        desc: "模特兒 vs 真實消費者的巨大鴻溝",
        detail: "消費者無法確知穿著效果而猶豫下單。傳統型錄的「完美身材」反而增加了購買的不確定性。"
      },
      {
        id: 3,
        title: "高昂的素材製作成本",
        desc: "每季拍攝成本極高",
        detail: "聘請模特兒、攝影、修圖耗時耗資，且更換模特兒風格的靈活性極低。"
      }
    ],
    solution: {
      features: [
        { title: "Instant Try-On", desc: "上傳照片，3秒內生成真實穿著效果。" },
        { title: "Hyper-Realism", desc: "模擬布料垂墜與光影，非單純貼圖。" },
        { title: "Plug & Play API", desc: "一鍵安裝於 Shopify/Shopline。" },
        { title: "Smart Mix & Match", desc: "AI 自動生成全身搭配建議，提高客單價。" }
      ],
      valueProp: {
        tob: "ToB: 降低 25% 退貨率，提升 40% 轉換率",
        toc: "ToC: 建立購物信心，私人訂製體驗"
      },
      demo: {
        status: "AI 生成中...",
        match: "98% 匹配度"
      }
    },
    market: {
      tam: "100 Million USD",
      tamDesc: "2027 全球時尚電商規模",
      cagr: "20%+",
      cagrDesc: "虛擬試穿市場年複合成長率",
      moatTitle: "WiG 競爭優勢 (The Moat)",
      moat: [
        "專有數據微調 (亞洲版型/特殊布料)",
        "動態適配算法 (解決肢體扭曲)",
        "B2B 數據飛輪效應"
      ],
      comparison: "競品對比：傳統 3D 建模成本過高且緩慢；單純 AR 濾鏡準確度低。WiG 結合了 GenAI 的速度與擬真度，專注於「轉換率」。"
    },
    roadmap: [
      { 
        period: "Q1-Q2 2026", 
        phase: "Product Fit", 
        detail: "完成 SaaS 插件 2.0 版，專注於解決 3 種高難度材質(蕾絲、亮片、羽絨)的試穿真實度。" 
      },
      { 
        period: "Q3-Q4 2026", 
        phase: "Market Penetration", 
        detail: "拓展台灣與東南亞市場，鎖定中大型服飾品牌進行 PoC (概念驗證)，目標簽約 50 家品牌。" 
      },
      { 
        period: "2027 全年", 
        phase: "Scale & Data", 
        detail: "推出 C 端 APP「WiG Closet」，打造跨品牌的數位衣櫃，形成 B2B2C 生態圈。啟動 A 輪募資。" 
      }
    ],
    metrics: [
      { label: "瀏覽轉化率 (Look-to-Buy)", target: "提升 2.5 倍" },
      { label: "退貨率 (Return Rate)", target: "< 15%" },
      { label: "用戶互動時長", target: "+120 秒" },
      { label: "SaaS 續訂率", target: "90%" }
    ],
    ask: {
      amount: "USD 180 K",
      stage: "Seed / Pre-A Round",
      breakdown: [
        "45% R&D (AI算力/人才)",
        "30% GTM (市場拓展)",
        "25% Ops (營運)"
      ]
    },
    team: [
      { 
        name: "Gill Hsioa", 
        role: "Founder & CEO", 
        subRole: "Chief Product Architect",
        bg: "20年時尚製造商與零售經驗", 
        skill: "連結「傳統工藝」與「數位轉型」，將打版邏輯轉譯為標準化數位語言。" 
      },
      { 
        name: "Peter Liu", 
        role: "Co-Founder & CTO", 
        subRole: "CCO (Chief Creative Officer)",
        bg: "AI/CV 領域權威", 
        skill: "專攻 GANs 技術，主導 AI 核心演算法與創意內容的深度結合。" 
      },
      { 
        name: "Seifun Yang", 
        role: "CFO", 
        subRole: "首席財務官",
        bg: "科技業資深財務領袖", 
        skill: "建構財務模型、資本運作及長期獲利策略，具備卓越戰略投資眼光。" 
      },
      { 
        name: "Jacky Chao", 
        role: "CMO", 
        subRole: "首席營銷官",
        bg: "B2B SaaS 增長駭客", 
        skill: "專精市場拓展戰略，握有豐沛電商生態圈人脈，驅動營收高速增長。" 
      }
    ],
    teamQuote: "\"Fashion DNA x AI Tech: 匯聚產業底蘊、頂尖技術與穩健財務戰略的跨界菁英\"",
    quiz: {
      introText: "您已瀏覽完 WiG 的創業戰情室資料。作為投資人，請通過最後的盡職調查 (Due Diligence) 測驗來確認這是否為一筆好生意。",
      questions: [
        {
          q: "WiG 的核心價值主張能將品牌退貨率降低至多少以下？",
          options: ["5%", "15%", "30%", "50%"],
          correct: 1
        },
        {
          q: "WiG 的競爭護城河不包含下列哪項？",
          options: ["專有亞洲版型數據", "動態適配算法", "自有服飾工廠", "B2B 數據飛輪"],
          correct: 2
        },
        {
          q: "2027 年 WiG 預計推出什麼產品來打造 B2B2C 生態圈？",
          options: ["WiG VR眼鏡", "WiG Closet APP", "WiG 實體店", "WiG NFT"],
          correct: 1
        }
      ],
      resultWin: {
        title: "投資建議：大力買進 (Strong Buy)",
        desc: "恭喜！您精準掌握了 WiG 的核心價值。其「高擬真 AI 試穿」與「B2B 數據飛輪」將顛覆 1 兆美元的時尚電商市場。",
        roi: "預期回報：2026 年 SaaS ARR 突破目標"
      },
      resultLose: {
        title: "投資建議：再觀察 (Hold)",
        desc: "您似乎錯過了一些關鍵數據。WiG 的核心在於解決「退貨率」與「想像力落差」。建議您重新審視商業模式。"
      }
    }
  },
  en: {
    nav: {
      sections: [
        "Elevator Pitch",
        "The Pain",
        "The Solution",
        "Market & Moat",
        "Roadmap",
        "Ask & Team",
        "Investor Decision"
      ],
      label: "War Room Nav",
      btnEnter: "Enter War Room",
      btnStartQuiz: "Start Investor Quiz",
      btnTryOn: "Try On Now",
      btnRetry: "Re-enter War Room"
    },
    hero: {
      badge: "Startup War Room",
      title: "WiG by Win",
      subtitle: "Bridging the Imagination Gap in Fashion E-commerce",
      tagline: "Bridging the gap between 'seeing' and 'wearing', turning every browse into a sale.",
      ask: "Seed/Pre-A Round | Target: 2027 Strategy"
    },
    headers: {
      pain: "Pain Points Analysis",
      painSubtitle: "Why is the current fashion e-commerce model unsustainable?",
      solution: "Solution: GenAI Virtual Try-On",
      market: "Market Size & Moat",
      roadmap: "2026-2027 Roadmap",
      ask: "The Ask",
      team: "Core Team",
      quizIntro: "Ready to make a decision?",
      quizTitle: "Investor Due Diligence"
    },
    painPoints: [
      {
        id: 1,
        title: "Double Trap of High Returns",
        desc: "Fashion e-commerce faces 30%+ return rates.",
        detail: "70% of returns are due to 'size or style mismatch'. This wastes shipping costs and erodes profits."
      },
      {
        id: 2,
        title: "The Imagination Gap",
        desc: "The gap between models and real consumers.",
        detail: "Shoppers hesitate because they can't visualize the fit. 'Perfect' catalog models increase uncertainty."
      },
      {
        id: 3,
        title: "High Production Costs",
        desc: "Seasonal shoots are extremely expensive.",
        detail: "Hiring models, photographers, and editing is costly. Changing styles is rigid and inflexible."
      }
    ],
    solution: {
      features: [
        { title: "Instant Try-On", desc: "Upload photo, generate realistic look in 3s." },
        { title: "Hyper-Realism", desc: "Simulates fabric drape & lighting, not just stickers." },
        { title: "Plug & Play API", desc: "One-click install for Shopify/Shopline." },
        { title: "Smart Mix & Match", desc: "AI outfit recommendations to boost AOV." }
      ],
      valueProp: {
        tob: "ToB: Reduce returns by 25%, Increase conversion by 40%",
        toc: "ToC: Build shopping confidence, personalized experience"
      },
      demo: {
        status: "AI Generating...",
        match: "98% Match"
      }
    },
    market: {
      tam: "100 Million USD",
      tamDesc: "2027 Global Fashion E-comm TAM",
      cagr: "20%+",
      cagrDesc: "Virtual Try-On CAGR",
      moatTitle: "WiG Competitive Moat",
      moat: [
        "Proprietary Data Fine-tuning (Asian fit/Special fabrics)",
        "Dynamic Fit Algorithm (Solves limb distortion)",
        "B2B Data Flywheel Effect"
      ],
      comparison: "Competition: Traditional 3D is slow/costly. AR filters lack accuracy. WiG combines GenAI speed & realism for 'conversion'."
    },
    roadmap: [
      { 
        period: "Q1-Q2 2026", 
        phase: "Product Fit", 
        detail: "Complete SaaS Plugin 2.0, solving 3 complex textures (Lace, Sequins, Down)." 
      },
      { 
        period: "Q3-Q4 2026", 
        phase: "Market Penetration", 
        detail: "Expand to Taiwan & SE Asia. PoC with 50 mid-to-large brands." 
      },
      { 
        period: "2027 Full Year", 
        phase: "Scale & Data", 
        detail: "Launch 'WiG Closet' App. Build B2B2C ecosystem. Start Series A fundraising." 
      }
    ],
    metrics: [
      { label: "Look-to-Buy Rate", target: "2.5x Growth" },
      { label: "Return Rate", target: "< 15%" },
      { label: "Time on Site", target: "+120 Sec" },
      { label: "SaaS Retention", target: "90%" }
    ],
    ask: {
      amount: "USD 180 K",
      stage: "Seed / Pre-A Round",
      breakdown: [
        "45% R&D (AI Compute/Talent)",
        "30% GTM (Market Expansion)",
        "25% Ops (Operations)"
      ]
    },
    team: [
      { 
        name: "Gill Hsioa", 
        role: "Founder & CEO", 
        subRole: "Chief Product Architect",
        bg: "20yrs Fashion Retail Exp.", 
        skill: "Bridging 'Traditional Craft' & 'Digital Transformation'. Translating patterns to digital logic." 
      },
      { 
        name: "Peter Liu", 
        role: "Co-Founder & CTO", 
        subRole: "CCO (Chief Creative Officer)",
        bg: "AI/CV Expert", 
        skill: "Specializing in GANs. Leading AI core algo & creative content integration." 
      },
      { 
        name: "Seifun Yang", 
        role: "CFO", 
        subRole: "Chief Financial Officer",
        bg: "Tech Finance Leader", 
        skill: "Financial modeling, capital strategy, and long-term profitability planning." 
      },
      { 
        name: "Jacky Chao", 
        role: "CMO", 
        subRole: "Chief Marketing Officer",
        bg: "B2B SaaS Growth Hacker", 
        skill: "Market expansion strategy. Deep e-commerce network connections." 
      }
    ],
    teamQuote: "\"Fashion DNA x AI Tech: A cross-disciplinary team of industry veterans and tech elites.\"",
    quiz: {
      introText: "You've seen the War Room. As an investor, please pass the final Due Diligence quiz to confirm if this is a good deal.",
      questions: [
        {
          q: "What is the target Return Rate WiG aims to achieve?",
          options: ["5%", "15%", "30%", "50%"],
          correct: 1
        },
        {
          q: "Which of the following is NOT part of WiG's Moat?",
          options: ["Proprietary Asian Fit Data", "Dynamic Fit Algorithm", "Owned Garment Factory", "B2B Data Flywheel"],
          correct: 2
        },
        {
          q: "What product will WiG launch in 2027 for the B2B2C ecosystem?",
          options: ["WiG VR Glasses", "WiG Closet APP", "WiG Retail Store", "WiG NFT"],
          correct: 1
        }
      ],
      resultWin: {
        title: "Recommendation: Strong Buy",
        desc: "Congratulations! You grasped WiG's core value. Its 'Hyper-Real AI Try-On' and 'Data Flywheel' will disrupt the $1T fashion market.",
        roi: "Expected Return: 2026 SaaS ARR Target Met"
      },
      resultLose: {
        title: "Recommendation: Hold",
        desc: "You missed some key data. WiG's core is solving 'Return Rates' and the 'Imagination Gap'. Please review the business model."
      }
    }
  }
};

// --- Components ---

const Section = ({ children, className = "", id = "" }) => (
  <section id={id} className={`min-h-screen flex flex-col justify-center px-6 py-12 md:px-20 ${className}`}>
    {children}
  </section>
);

const Card = ({ children, className = "", onClick }) => (
  <div 
    onClick={onClick}
    className={`bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6 transition-all duration-300 hover:bg-white/10 hover:border-yellow-500/50 hover:shadow-lg hover:shadow-yellow-500/10 cursor-pointer ${className}`}
  >
    {children}
  </div>
);

const ProgressBar = ({ current, total }) => (
  <div className="fixed top-0 left-0 w-full h-1 bg-gray-900 z-50">
    <div 
      className="h-full bg-yellow-500 transition-all duration-500 ease-out"
      style={{ width: `${(current / total) * 100}%` }}
    />
  </div>
);

// --- Main App Component ---

export default function WiGWarRoom() {
  const [activeSection, setActiveSection] = useState(0);
  const [lang, setLang] = useState('zh'); // 'zh' or 'en'
  const [showQuiz, setShowQuiz] = useState(false);
  const [quizScore, setQuizScore] = useState(0);
  const [quizCompleted, setQuizCompleted] = useState(false);

  // Helper to get current language data
  const t = PITCH_DATA[lang];

  const handleNext = () => {
    if (activeSection < t.nav.sections.length - 1) setActiveSection(prev => prev + 1);
  };

  const handlePrev = () => {
    if (activeSection > 0) setActiveSection(prev => prev - 1);
  };

  const handleQuizAnswer = (qIndex, optionIndex) => {
    if (optionIndex === t.quiz.questions[qIndex].correct) {
      setQuizScore(prev => prev + 1);
    }
  };

  const toggleLang = () => {
    setLang(prev => prev === 'zh' ? 'en' : 'zh');
  };

  // --- Render Sections ---

  const renderContent = () => {
    switch (activeSection) {
      case 0: // Elevator Pitch
        return (
          <div className="text-center max-w-4xl mx-auto animate-fade-in-up">
            <div className="inline-block px-3 py-1 mb-6 border border-yellow-500 rounded-full text-yellow-400 text-sm tracking-widest uppercase">
              {t.hero.badge}
            </div>
            <h1 className="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">
              {t.hero.title}
            </h1>
            <p className="text-2xl md:text-3xl text-gray-300 font-light mb-8 italic">
              "{t.hero.subtitle}"
            </p>
            <p className="text-xl text-gray-400 mb-12 max-w-2xl mx-auto">
              {t.hero.tagline}
            </p>
            <button 
              onClick={handleNext}
              className="group bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 px-8 rounded-full flex items-center gap-2 mx-auto transition-all transform hover:scale-105"
            >
              {t.nav.btnEnter} <ChevronRight className="group-hover:translate-x-1 transition-transform" />
            </button>
          </div>
        );

      case 1: // The Pain
        return (
          <div className="max-w-6xl mx-auto w-full">
            <h2 className="text-3xl md:text-4xl font-bold text-white mb-2">{t.headers.pain}</h2>
            <p className="text-gray-400 mb-10">{t.headers.painSubtitle}</p>
            
            <div className="grid md:grid-cols-3 gap-6">
              {t.painPoints.map((pain, idx) => (
                <Card key={pain.id} className="h-full group animate-fade-in-up">
                  <div className="mb-4 bg-gray-800 p-3 rounded-lg w-fit group-hover:bg-gray-700 transition-colors">
                     {/* Dynamic Icon Rendering based on Index */}
                     {idx === 0 && <TrendingUp className="w-8 h-8 text-red-400" />}
                     {idx === 1 && <Users className="w-8 h-8 text-yellow-400" />}
                     {idx === 2 && <DollarSign className="w-8 h-8 text-orange-400" />}
                  </div>
                  <h3 className="text-xl font-bold text-white mb-3">{pain.title}</h3>
                  <p className="text-yellow-500 font-medium mb-2">{pain.desc}</p>
                  <p className="text-gray-400 text-sm leading-relaxed">{pain.detail}</p>
                </Card>
              ))}
            </div>
            
            <div className="mt-12 bg-red-900/20 border border-red-500/30 p-6 rounded-xl flex items-center gap-4 animate-fade-in">
              <div className="text-red-400 font-bold text-lg min-w-fit">{t.hero.badge === "Startup War Room" ? "Market Reality" : "市場現狀"}</div>
              <p className="text-gray-300">
                {lang === 'zh' 
                  ? "網購市場雖大，但存在結構性漏洞。消費者因「無法想像」而退縮，品牌因「退貨物流」而失血。"
                  : "The market is huge but structurally flawed. Shoppers retreat due to 'lack of imagination', while brands bleed from 'return logistics'."}
              </p>
            </div>
          </div>
        );

      case 2: // The Solution
        return (
          <div className="max-w-6xl mx-auto w-full">
            <div className="flex flex-col md:flex-row gap-12 items-center">
              <div className="flex-1 animate-fade-in-up">
                <h2 className="text-3xl md:text-4xl font-bold text-white mb-6">
                  {t.headers.solution}
                </h2>
                <div className="space-y-6">
                  {t.solution.features.map((feat, idx) => (
                    <div key={idx} className="flex items-start gap-4 p-4 rounded-lg hover:bg-white/5 transition-colors">
                      <div className="text-yellow-400 mt-1">
                        {idx === 0 && <Zap size={20} />}
                        {idx === 1 && <Shirt size={20} />}
                        {idx === 2 && <Layers size={20} />}
                        {idx === 3 && <ShoppingBag size={20} />}
                      </div>
                      <div>
                        <h4 className="text-lg font-bold text-white">{feat.title}</h4>
                        <p className="text-gray-400 text-sm">{feat.desc}</p>
                      </div>
                    </div>
                  ))}
                </div>
                <div className="mt-8 flex gap-4">
                  <div className="bg-blue-900/30 border border-blue-500/30 p-4 rounded-lg flex-1">
                    <div className="text-white font-medium text-sm">{t.solution.valueProp.tob}</div>
                  </div>
                  <div className="bg-purple-900/30 border border-purple-500/30 p-4 rounded-lg flex-1">
                    <div className="text-white font-medium text-sm">{t.solution.valueProp.toc}</div>
                  </div>
                </div>
              </div>

              {/* Interactive Demo Simulation */}
              <div className="flex-1 w-full max-w-md animate-scale-in">
                <div className="bg-gray-900 border border-gray-700 rounded-2xl p-4 shadow-2xl relative overflow-hidden">
                  <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-500 to-purple-500"></div>
                  <div className="flex justify-between items-center mb-4">
                    <div className="text-xs text-gray-400">WiG Plugin Demo</div>
                    <div className="flex gap-1">
                      <div className="w-2 h-2 rounded-full bg-red-500"></div>
                      <div className="w-2 h-2 rounded-full bg-yellow-500"></div>
                      <div className="w-2 h-2 rounded-full bg-green-500"></div>
                    </div>
                  </div>
                  
                  <div className="aspect-[3/4] bg-gray-800 rounded-lg relative mb-4 group overflow-hidden">
                     {/* Placeholder for demo visuals */}
                     <div className="absolute inset-0 flex items-center justify-center text-gray-600">
                        <Camera size={48} className="opacity-20" />
                     </div>
                     <div className="absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                        <div className="text-center">
                          <Zap className="text-yellow-400 mx-auto mb-2 animate-bounce" size={32} />
                          <p className="text-white font-bold">{t.solution.demo.status}</p>
                          <p className="text-yellow-400 text-sm">Hyper-Realism Applied</p>
                        </div>
                     </div>
                     <div className="absolute bottom-4 left-4 bg-black/70 backdrop-blur px-3 py-1 rounded text-xs text-white">
                        <span className="text-green-400">●</span> {t.solution.demo.match}
                     </div>
                  </div>

                  <button className="w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 rounded transition-colors">
                    {t.nav.btnTryOn}
                  </button>
                </div>
              </div>
            </div>
          </div>
        );

      case 3: // Market & Moat
        return (
          <div className="max-w-6xl mx-auto w-full">
            <h2 className="text-3xl md:text-4xl font-bold text-white mb-8">{t.headers.market}</h2>
            
            <div className="grid md:grid-cols-2 gap-8 mb-12">
              <div className="bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl border border-gray-700 animate-fade-in-up">
                <div className="text-sm text-gray-400 uppercase tracking-wider mb-2">Total Addressable Market</div>
                <div className="text-5xl font-bold text-white mb-2">{t.market.tam}</div>
                <div className="text-gray-400 mb-6">{t.market.tamDesc}</div>
                <div className="h-2 w-full bg-gray-700 rounded-full overflow-hidden">
                   <div className="h-full bg-green-500 w-3/4"></div>
                </div>
                <div className="mt-4 flex items-center gap-2">
                   <TrendingUp className="text-green-500" size={20} />
                   <span className="text-white font-bold">{t.market.cagr} CAGR</span>
                   <span className="text-gray-500 text-sm">- {t.market.cagrDesc}</span>
                </div>
              </div>

              <div className="space-y-4 animate-fade-in-up" style={{ animationDelay: '0.2s' }}>
                <h3 className="text-xl font-bold text-yellow-500 mb-4">{t.market.moatTitle}</h3>
                {t.market.moat.map((item, idx) => (
                  <div key={idx} className="flex items-center gap-4 bg-white/5 p-4 rounded-xl border border-white/5">
                    <div className="bg-yellow-500/20 p-2 rounded-full text-yellow-400">
                      <Award size={20} />
                    </div>
                    <span className="text-white font-medium">{item}</span>
                  </div>
                ))}
                
                <div className="mt-6 p-4 border border-dashed border-gray-600 rounded-xl text-gray-400 text-sm">
                  {t.market.comparison}
                </div>
              </div>
            </div>
          </div>
        );

      case 4: // Roadmap
        return (
          <div className="max-w-5xl mx-auto w-full">
            <h2 className="text-3xl md:text-4xl font-bold text-white mb-10 text-center">{t.headers.roadmap}</h2>
            
            <div className="relative border-l-2 border-yellow-500/30 ml-4 md:ml-0 md:pl-0 space-y-12">
              {t.roadmap.map((item, index) => (
                <div key={index} className="relative flex flex-col md:flex-row items-start md:items-center gap-6 group animate-fade-in-up" style={{ animationDelay: `${index * 0.2}s` }}>
                  {/* Dot */}
                  <div className="absolute -left-[9px] md:left-1/2 md:-ml-[9px] w-5 h-5 bg-gray-900 border-2 border-yellow-500 rounded-full group-hover:bg-yellow-500 transition-colors z-10"></div>
                  
                  {/* Content Left (Alternating in desktop) */}
                  <div className={`md:w-1/2 md:pr-12 md:text-right ${index % 2 !== 0 ? 'md:order-1' : 'md:hidden'}`}>
                    <div className="text-yellow-400 font-bold text-xl">{item.period}</div>
                    <div className="text-white font-bold text-lg mb-1">{item.phase}</div>
                    <p className="text-gray-400 text-sm">{item.detail}</p>
                  </div>

                  {/* Content Right (Alternating in desktop) */}
                  <div className={`pl-8 md:pl-12 md:w-1/2 ${index % 2 === 0 ? 'md:order-1' : 'md:hidden'}`}>
                    <div className="text-yellow-400 font-bold text-xl">{item.period}</div>
                    <div className="text-white font-bold text-lg mb-1">{item.phase}</div>
                    <p className="text-gray-400 text-sm">{item.detail}</p>
                  </div>
                  
                   {/* Mobile View (Standard list) */}
                   <div className="hidden"></div>
                </div>
              ))}
            </div>

            <div className="mt-16 grid grid-cols-2 md:grid-cols-4 gap-4 animate-fade-in" style={{ animationDelay: '0.6s' }}>
               {t.metrics.map((m, i) => (
                 <div key={i} className="bg-gray-800/50 p-4 rounded-lg text-center border border-gray-700">
                    <div className="text-yellow-400 font-bold text-2xl mb-1">{m.target}</div>
                    <div className="text-white text-sm font-medium">{m.label}</div>
                 </div>
               ))}
            </div>
          </div>
        );

      case 5: // Ask & Team
        return (
          <div className="max-w-6xl mx-auto w-full">
            <div className="grid md:grid-cols-2 gap-12">
              {/* The Ask */}
              <div className="bg-white/5 border border-white/10 rounded-2xl p-8 animate-fade-in-up">
                <h2 className="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                  <DollarSign className="text-green-400" /> {t.headers.ask}
                </h2>
                <div className="text-4xl font-bold text-white mb-2">{t.ask.amount}</div>
                <div className="text-gray-400 mb-8">{t.ask.stage}</div>

                <div className="space-y-4">
                  <div className="w-full bg-gray-700 rounded-full h-4 overflow-hidden flex">
                    <div className="bg-blue-500 w-[45%]"></div>
                    <div className="bg-green-500 w-[30%]"></div>
                    <div className="bg-gray-500 w-[25%]"></div>
                  </div>
                  <div className="flex justify-between text-xs text-gray-300">
                     {t.ask.breakdown.map((item, idx) => {
                       const colors = ["bg-blue-500", "bg-green-500", "bg-gray-500"];
                       return (
                          <span key={idx} className="flex items-center gap-1">
                             <div className={`w-2 h-2 ${colors[idx]} rounded-full`}></div> {item}
                          </span>
                       );
                     })}
                  </div>
                </div>
              </div>

              {/* The Team */}
              <div className="animate-fade-in-up" style={{ animationDelay: '0.2s' }}>
                <h2 className="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                  <Users className="text-blue-400" /> {t.headers.team}
                </h2>
                <div className="space-y-4">
                  {t.team.map((member, idx) => (
                    <div key={idx} className="flex items-start gap-4 bg-gray-800 p-4 rounded-xl">
                      <div className="w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center font-bold text-black shrink-0 mt-1">
                        {member.name[0]}
                      </div>
                      <div>
                        <div className="flex flex-col sm:flex-row sm:items-center sm:gap-2 mb-1">
                           <div className="text-white font-bold text-lg">{member.name}</div>
                           <div className="text-yellow-500 text-xs sm:text-sm font-bold uppercase tracking-wide bg-yellow-500/10 px-2 py-0.5 rounded border border-yellow-500/30 w-fit">
                              {member.role}
                           </div>
                        </div>
                        {member.subRole && (
                          <div className="text-gray-300 text-sm font-medium mb-2 flex items-center gap-1">
                            <span className="w-1.5 h-1.5 bg-yellow-500 rounded-full"></span>
                            {member.subRole}
                          </div>
                        )}
                        <div className="text-gray-400 text-xs leading-relaxed space-y-1 mt-2">
                           <div><span className="text-gray-500 font-semibold">Background:</span> {member.bg}</div>
                           <div><span className="text-gray-500 font-semibold">Strength:</span> {member.skill}</div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
                <div className="mt-6 text-center text-gray-400 text-sm italic border-t border-gray-800 pt-4">
                  {t.teamQuote}
                </div>
              </div>
            </div>
          </div>
        );

      case 6: // Quiz & Decision
        return (
          <div className="max-w-2xl mx-auto w-full text-center">
            {!showQuiz ? (
              <div className="animate-fade-in">
                <Target className="w-20 h-20 text-yellow-500 mx-auto mb-6" />
                <h2 className="text-4xl font-bold text-white mb-6">{t.headers.quizIntro}</h2>
                <p className="text-xl text-gray-300 mb-8">
                  {t.quiz.introText}
                </p>
                <button 
                  onClick={() => setShowQuiz(true)}
                  className="bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 px-12 rounded-full text-lg transition-transform hover:scale-105"
                >
                  {t.nav.btnStartQuiz}
                </button>
              </div>
            ) : !quizCompleted ? (
              <div className="bg-gray-800 p-8 rounded-2xl border border-gray-700 animate-fade-in">
                <h3 className="text-xl text-white mb-6">{t.headers.quizTitle} ({quizScore}/{t.quiz.questions.length})</h3>
                {t.quiz.questions.map((q, idx) => (
                  <div key={idx} className="mb-8 text-left border-b border-gray-700 pb-6 last:border-0">
                    <p className="text-white font-medium mb-4 text-lg">{idx + 1}. {q.q}</p>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {q.options.map((opt, optIdx) => (
                        <button
                          key={optIdx}
                          onClick={(e) => {
                             // Simple logic to disable button after click
                             e.currentTarget.classList.add(optIdx === q.correct ? 'bg-green-600' : 'bg-red-600');
                             handleQuizAnswer(idx, optIdx);
                             if (idx === t.quiz.questions.length - 1) setTimeout(() => setQuizCompleted(true), 800);
                          }}
                          className="bg-gray-700 hover:bg-gray-600 text-gray-200 py-3 px-4 rounded-lg transition-colors text-left"
                        >
                          {opt}
                        </button>
                      ))}
                    </div>
                  </div>
                ))}
              </div>
            ) : (
              <div className="animate-scale-in">
                {quizScore >= 2 ? (
                  <div className="bg-green-900/30 border border-green-500 p-8 rounded-2xl">
                    <CheckCircle className="w-20 h-20 text-green-500 mx-auto mb-4" />
                    <h2 className="text-3xl font-bold text-white mb-2">{t.quiz.resultWin.title}</h2>
                    <p className="text-gray-300 mb-6">
                      {t.quiz.resultWin.desc}
                    </p>
                    <div className="text-yellow-400 font-bold text-xl">
                      {t.quiz.resultWin.roi}
                    </div>
                  </div>
                ) : (
                  <div className="bg-red-900/30 border border-red-500 p-8 rounded-2xl">
                    <XCircle className="w-20 h-20 text-red-500 mx-auto mb-4" />
                    <h2 className="text-3xl font-bold text-white mb-2">{t.quiz.resultLose.title}</h2>
                    <p className="text-gray-300 mb-6">
                      {t.quiz.resultLose.desc}
                    </p>
                    <button 
                       onClick={() => { setQuizCompleted(false); setShowQuiz(false); setActiveSection(0); setQuizScore(0); }}
                       className="text-white underline hover:text-yellow-400"
                    >
                      {t.nav.btnRetry}
                    </button>
                  </div>
                )}
              </div>
            )}
          </div>
        );
      
      default:
        return null;
    }
  };

  // --- Background Elements ---

  return (
    <div className="bg-black min-h-screen text-gray-100 font-sans selection:bg-yellow-500 selection:text-black overflow-hidden relative">
      <style>{`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scaleIn {
          from { opacity: 0; transform: scale(0.9); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
        .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }
        .animate-scale-in { animation: scaleIn 0.4s ease-out forwards; }
      `}</style>

      <ProgressBar current={activeSection} total={t.nav.sections.length - 1} />
      
      {/* Dynamic Background Noise/Gradient */}
      <div className="fixed inset-0 z-0 pointer-events-none opacity-20">
         <div className="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-purple-900 rounded-full blur-[120px] animate-pulse"></div>
         <div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-yellow-900 rounded-full blur-[120px] animate-pulse delay-1000"></div>
      </div>

      {/* Grid Pattern */}
      <div 
        className="fixed inset-0 z-0 pointer-events-none opacity-10"
        style={{ backgroundImage: 'radial-gradient(circle, #333 1px, transparent 1px)', backgroundSize: '30px 30px' }}
      ></div>

      {/* Navigation Controls */}
      <div className="fixed bottom-8 right-8 z-50 flex gap-4">
        <button 
          onClick={handlePrev} 
          disabled={activeSection === 0}
          className="p-3 bg-gray-800 rounded-full hover:bg-gray-700 disabled:opacity-30 border border-gray-600 transition-all"
        >
          <ChevronLeft />
        </button>
        <button 
          onClick={handleNext} 
          disabled={activeSection === t.nav.sections.length - 1}
          className="p-3 bg-yellow-500 text-black rounded-full hover:bg-yellow-400 disabled:opacity-30 disabled:bg-gray-800 disabled:text-gray-500 transition-all shadow-lg shadow-yellow-500/20"
        >
          <ChevronRight />
        </button>
      </div>

      {/* Header Indicators: Section (Left) & Lang (Right) */}
      <div className="fixed top-8 left-8 z-50">
         <div className="flex items-center gap-3">
            <span className="font-bold text-yellow-500 text-xl">WiG</span>
            <span className="text-gray-600">|</span>
            <span className="text-gray-300 text-sm tracking-widest uppercase">
               {t.nav.sections[activeSection]}
            </span>
         </div>
      </div>

      <div className="fixed top-8 right-8 z-50">
         <button 
           onClick={toggleLang}
           className="flex items-center gap-2 bg-gray-800/80 backdrop-blur border border-gray-600 hover:border-yellow-500 rounded-full px-4 py-2 transition-all group"
         >
           <Globe size={16} className="text-gray-400 group-hover:text-yellow-400" />
           <span className="text-sm font-bold text-gray-200 group-hover:text-white">
             {lang === 'zh' ? '繁中' : 'EN'}
           </span>
         </button>
      </div>

      {/* Main Content Area */}
      <Section className="relative z-10 transition-all duration-500 ease-in-out">
        {renderContent()}
      </Section>
    </div>
  );
}